Live coding Clojure + LWJGL (What Minecraft Java runs on)

10,000 rectangles updating instantly.

No restarts. No reloads.

Just poking the scene and watching it change in real time.

* Run
- Run: =clj -M:run=
- When running, an nREPL server starts and prints its port.
- LearnOpenGL Chapter 1 (hello window) example (basic GLFW window with clear color): =clj -M:hello-window=
- LearnOpenGL Chapter 1 (hello window clear) example (dynamic clear color): =clj -M:hello-window-clear=
- LearnOpenGL Chapter 1 (hello triangle) example (basic OpenGL triangle render): =clj -M:chapter1=
- LearnOpenGL Chapter 1 (indexed triangle) example (EBO + two triangles quad): =clj -M:triangle-indexed=
- LearnOpenGL Chapter 1 (triangle exercise 1) example (two triangles, single VAO/VBO): =clj -M:triangle-ex1=
- LearnOpenGL Chapter 1 (triangle exercise 2) example (two triangles, separate VAOs/VBOs): =clj -M:triangle-ex2=
- LearnOpenGL Chapter 1 (triangle exercise 3) example (two fragment shaders: orange/yellow): =clj -M:triangle-ex3=
- LearnOpenGL Chapter 1 (shaders uniform) example (animated uniform color): =clj -M:shaders-uniform=
- LearnOpenGL Chapter 1 (shaders interpolation) example (vertex color interpolation): =clj -M:shaders-interpolation=
- LearnOpenGL Chapter 1 (shaders class) example (load shaders from resources): =clj -M:shaders-class=
- LearnOpenGL Chapter 1 (shaders exercise 1) example (invert Y via vertex shader): =clj -M:shaders-ex1=
- LearnOpenGL Chapter 1 (shaders exercise 2) example (constant yellow fragment color): =clj -M:shaders-ex2=
- LearnOpenGL Chapter 1 (shaders exercise 3) example (custom attribute layout/name): =clj -M:shaders-ex3=
- LearnOpenGL Chapter 1 (textures) example (single procedural texture on quad): =clj -M:textures=
- LearnOpenGL Chapter 1 (textures combined) example (two procedural textures mixed): =clj -M:textures-combined=
- LearnOpenGL Chapter 1 (textures exercise 1) example (flip second texture in mix): =clj -M:textures-ex1=
- LearnOpenGL Chapter 1 (textures exercise 2) example (adjust mix factor with arrow keys): =clj -M:textures-ex2=
- LearnOpenGL Chapter 1 (textures exercise 3) example (rotate texture coordinates 90Â°): =clj -M:textures-ex3=
- LearnOpenGL Chapter 1 (textures exercise 4) example (clamp-to-border sampling): =clj -M:textures-ex4=
- LearnOpenGL Chapter 1 (transformations) example (translate/rotate textured quad): =clj -M:transformations=
- LearnOpenGL Chapter 1 (transformations exercise 1) example (two quads with differing transforms): =clj -M:transformations-ex1=
- LearnOpenGL Chapter 1 (transformations exercise 2) example (animated rotation + scaling): =clj -M:transformations-ex2=
- LearnOpenGL Chapter 1 (coordinate systems) example (single rotating cube with perspective): =clj -M:coordinate-systems=
- LearnOpenGL Chapter 1 (coordinate systems depth) example (two cubes showing depth test): =clj -M:coordinate-systems-depth=
- LearnOpenGL Chapter 1 (coordinate systems multiple) example (multiple cubes with transforms): =clj -M:coordinate-systems-multiple=
- LearnOpenGL Chapter 1 (coordinate systems exercise 3) example (orbital camera around cubes): =clj -M:coordinate-systems-ex3=
- LearnOpenGL Chapter 1 (camera circle) example (orbiting camera view): =clj -M:camera-circle=
- LearnOpenGL Chapter 1 (camera keyboard dt) example (WASD camera movement with delta time): =clj -M:camera-keyboard-dt=
- LearnOpenGL Chapter 1 (camera mouse zoom) example (mouse look + scroll zoom): =clj -M:camera-mouse-zoom=
- LearnOpenGL Chapter 1 (camera class) example (camera controls via reusable state): =clj -M:camera-class=
- LearnOpenGL Chapter 1 (camera exercise 1) example (grounded FPS-style camera): =clj -M:camera-exercise1=
- LearnOpenGL Chapter 1 (camera exercise 2) example (manual LookAt matrix): =clj -M:camera-exercise2=

* Chapter 1 migration TODO
- [x] 1.1.hello_window
- [x] 1.2.hello_window_clear
- [x] 2.1.hello_triangle
- [x] 2.2.hello_triangle_indexed
- [x] 2.3.hello_triangle_exercise1
- [x] 2.4.hello_triangle_exercise2
- [x] 2.5.hello_triangle_exercise3
- [x] 3.1.shaders_uniform
- [x] 3.2.shaders_interpolation
- [x] 3.3.shaders_class
- [x] 3.4.shaders_exercise1
- [x] 3.5.shaders_exercise2
- [x] 3.6.shaders_exercise3
- [x] 4.1.textures
- [x] 4.2.textures_combined
- [x] 4.3.textures_exercise1
- [x] 4.4.textures_exercise2
- [x] 4.5.textures_exercise3
- [x] 4.6.textures_exercise4
- [x] 5.1.transformations
- [x] 5.2.transformations_exercise1
- [x] 5.3.transformations_exercise2
- [x] 6.1.coordinate_systems
- [x] 6.2.coordinate_systems_depth
- [x] 6.3.coordinate_systems_multiple
- [x] 6.4.coordinate_systems_exercise3
- [x] 7.1.camera_circle
- [x] 7.2.camera_keyboard_dt
- [x] 7.3.camera_mouse_zoom
- [x] 7.4.camera_class
- [x] 7.5.camera_exercise1
- [x] 7.6.camera_exercise2

* Chapter 2 migration TODO (Lighting)
- [ ] 1.colors
- [ ] 2.1.basic_lighting_diffuse
- [ ] 2.2.basic_lighting_specular
- [ ] 2.3.basic_lighting_exercise1
- [ ] 2.4.basic_lighting_exercise2
- [ ] 2.5.basic_lighting_exercise3
- [ ] 3.1.materials
- [ ] 3.2.materials_exercise1
- [ ] 4.1.lighting_maps_diffuse_map
- [ ] 4.2.lighting_maps_specular_map
- [ ] 4.3.lighting_maps_exercise2
- [ ] 4.4.lighting_maps_exercise4
- [ ] 5.1.light_casters_directional
- [ ] 5.2.light_casters_point
- [ ] 5.3.light_casters_spot
- [ ] 5.4.light_casters_spot_soft
- [ ] 6.multiple_lights
- [ ] 6.multiple_lights_exercise1

* Chapter 3 migration TODO (Model Loading)
- [ ] 3.1.model_loading

* Later chapters TODO (Advanced OpenGL, PBR, In Practice)
- [ ] Advanced OpenGL (blending, face culling, instancing, etc.)
- [ ] PBR (theory, lighting, IBL)
- [ ] In Practice (debugging, text rendering, shadows, SSAO)

* Notes
- The project is configured for macOS arm64 natives in =deps.edn=.
- On Intel macOS, use =natives-macos= instead of =natives-macos-arm64= in the =$classifier= lib names.
- For Windows or Linux, replace with the matching classifier.
- LWJGL 3.3.x is tested against LTS JDKs; use Java 17/21 if you hit JNI warnings on newer JDKs.
- The upstream LearnOpenGL examples are available as a submodule at =./LearnOpenGL= for reference.

* Live REPL
- Discover port: =clj-nrepl-eval --discover-ports=
- Example tweak: =clj-nrepl-eval -p <port> "(swap! lwjgl.core/osc-amplitude (constantly 0.15))"=
- Toggle wireframe: press =W= in the window.
- Toggle instancing (single rectangle debug): press =I= in the window.

* CIDER
- Start the app with CIDER middleware: =clj -M:run:cider-deps=
- In Emacs, run =cider-connect= to the port in =.nrepl-port=.
- Live tweak example: =(reset! lwjgl.core/rect-color [0.9 0.2 0.2])=
- Alternative: =clj -M:cider= then =(lwjgl.core/run-app!)= from the REPL.
